# ğŸ–¼ï¸ Image Similarity Search â€“ Minimal MVP Prototype

<p align="center">
  <a href="https://github.com/yourusername/reverse-image-search">
    <img alt="Python" src="https://img.shields.io/badge/python-3.7%2B-3776AB.svg?logo=python&logoColor=white" />
  </a>
  <a href="https://palletsprojects.com/p/flask/">
    <img alt="Flask" src="https://img.shields.io/badge/flask-web%20framework-000000.svg?logo=flask&logoColor=white" />
  </a>
  <a href="https://github.com/yourusername/reverse-image-search/blob/main/LICENSE">
    <img alt="License: MIT" src="https://img.shields.io/badge/license-MIT-blue.svg?logo=open-source-initiative&logoColor=white" />
  </a>
  <img alt="Offline" src="https://img.shields.io/badge/100%25-offline-success?logo=cloud-offline" />
  <img alt="Embeddings" src="https://img.shields.io/badge/embeddings-MobileNetV2-orange?logo=tensorflow&logoColor=white" />
  <img alt="PRs Welcome" src="https://img.shields.io/badge/PRs-welcome-brightgreen?logo=git" />
</p>

---

## ğŸš€ Introduction

This repository hosts a minimal, fully-offline prototype of an **Image Similarity Search** system. The user can click/tap on an image from a local gallery, and the backend returns a set of visually similar images. This project demonstrates the basic workflow for image similarity search: images are indexed via deep-learning-based embeddings, and queries are answered using nearest-neighbor search on these vectors.

> **Note:** This prototype is designed for maximum simplicity and local/offline use. Itâ€™s purpose-built for demonstration, experimentation, and quick prototyping.

---

## âœ¨ Features

- ğŸ–¼ï¸ **Local Image Gallery:** All search and retrieval is performed on your own image collection.
- ğŸ§  **MobileNetV2-based Embeddings:** Efficient image representations generated using pre-trained MobileNetV2 (Tensorflow/Keras).
- ğŸ” **Cosine Similarity Nearest Neighbor Search:** Finds images close in the embedding space using fast cosine similarity.
- âš¡ **Simple Flask Web UI:** Clean web interface for browsing and searching images.
- ğŸ”’ **Works 100% Offline:** No external API calls, all computation is done locally.

---

## ğŸ“ Project Structure

```text
reverse-image-search/
â”œâ”€â”€ static/
â”‚   â””â”€â”€ images/           # Source image gallery (add your images here)
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html        # Main web UI
â”œâ”€â”€ embeddings/
â”‚   â””â”€â”€ embeddings.npy    # Saved image embeddings (generated by utility script)
â”‚   â””â”€â”€ filenames.pkl     # List of image filenames
â”œâ”€â”€ prepare_embeddings.py # Utility: generates MobileNetV2 embeddings for gallery images
â”œâ”€â”€ app.py                # Flask backend serving the UI and API
â”œâ”€â”€ requirements.txt      # Python dependencies
â””â”€â”€ README.md             # Project documentation
```

---

## ğŸ› ï¸ Technical Overview

### ğŸ§© Embeddings Generation

- When you run `prepare_embeddings.py`, it loads each image in `static/images/`, resizes it to MobileNetV2â€™s input size, and passes it through a pre-trained MobileNetV2 (without the classification head).
- The resulting embedding vector for each image is saved in `embeddings/embeddings.npy`.
- The corresponding image filenames are saved in `embeddings/filenames.pkl`.

### ğŸ“ Similarity Search

- When a user clicks/selects an image, its embedding is retrieved.
- The system calculates cosine similarity between this embedding and all other embeddings in the gallery.
- The K most similar images (by cosine similarity) are returned.

### ğŸª„ Flask Backend

- **API Endpoint:** Handles requests from the frontend for similar images.
- **Serves gallery:** Serves static image files and the search UI.
- **Similarity:** On request, loads saved embeddings and performs similarity search.

### ğŸ¤– Frontend (HTML/JS)

- Gallery page loads thumbnails of available images.
- When a user clicks an image, sends a request to the Flask API with the image ID.
- Displays the clicked image and a grid/list of visually similar images.

---

## ğŸ“¦ Installation & Setup

### 1. Clone the Repo

```bash
git clone https://github.com/yourusername/reverse-image-search.git
cd reverse-image-search
```

### 2. Create a Virtual Environment

```bash
python3 -m venv venv
source venv/bin/activate
```

### 3. Install Dependencies

```bash
pip install -r requirements.txt
```

### 4. Add Gallery Images

- Put your `.jpg`/`.png` images in `static/images/`.

### 5. Generate Image Embeddings

```bash
python prepare_embeddings.py
```

- This will create/update `embeddings/embeddings.npy` and `embeddings/filenames.pkl`.

### 6. Start the Flask Server

```bash
python app.py
```

- Visit [http://localhost:5000](http://localhost:5000) in your browser.

---

## ğŸ„â€â™‚ï¸ Usage Guide

1. Open the web UI in your browser.
2. Browse the gallery of images.
3. **Click** any image you wish to use as your query.
4. The UI will display a set of visually similar images from your local collection.

```mermaid
sequenceDiagram
  participant User
  participant Frontend
  participant Backend
  participant Embeddings

  User->>Frontend: Clicks image thumbnail
  Frontend->>Backend: Sends image ID
  Backend->>Embeddings: Loads embedding for query image
  Backend->>Embeddings: Computes cosine similarities
  Backend->>Frontend: Returns K most similar images
  Frontend->>User: Displays results
```

---

## ğŸ›¤ï¸ Future Improvements

- ğŸŒ Support remote galleries/cloud storage.
- âœ‚ï¸ Add cropping/region-based queries.
- âš¡ GPU acceleration for embedding generation.
- ğŸ‹ï¸ More advanced model options (e.g., CLIP, ResNet).
- ğŸ‘¥ Add batch search and filtering options.
- ğŸ³ Dockerization for easy deployment.

---

## ğŸ“„ License

This project is provided under the MIT License.

---

## ğŸ¤ Contributing

Contributions, feature requests, and bug reports are welcome! Please open an issue or submit a pull request. All contributors must agree to the MIT License terms.
